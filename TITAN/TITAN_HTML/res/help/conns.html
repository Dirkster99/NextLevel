<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
	<head>
		<title>NextLevel Online Help - Reverse Engineering RDBMS</title>
	<link rel="shortcut icon" href="../nlogo.jpg">
  <link rel="stylesheet" type="text/css" href="../style.css">
  
<link rel="stylesheet" type="text/css" href="../office_xp.css" title="Office XP" />
<script type="text/javascript" src="jsdomenu.js"></script>
<script type="text/javascript" src="jsdomenubar.js"></script>
<script type="text/javascript" src="helpmenuconf.js"></script>
</head>

<body  onload="initjsDOMenu()" BGCOLOR="#ffffff">

<table border="0" cellPadding="3" cellSpacing="0" width="100%">
<tr>
 <td align="left" valign="top"><h1>NextLevel</h1></td>
 <td align="right" valign="top"><div id="staticMenu"></div></td>
</tr>
<tr><td colspan="2"><b>Online Help</b></td>
</table>

<p>
Menu: Browse -> <IMG border="0" src ="../radar.png"> &quot;Connections&quot;
</p>

<h1>Connections</h1>
<p>
Analyzing and re-engineering RDBMS systems often (or almost always) requires
knowledge about interfaces to the outside world. In terms of T-SQL stored procedures
and triggers, this line of thought can be re-phrased and thought of as a set of
questions, along the lines of: &quot;Which database object implements any form of
access to another database or server?&quot;.
</p>
<p>
Sometimes, in the lifetime of a normal project, it can also happen that one has to take
a database off a server of vendor x and re-implement it on another server purchased from
vendor y. In such cases, the above question could be re-phrased or extended to:
&quot;Which database object implements any form of access to a non-user database object?&quot;.
That is, if there are any kinds of access to special system tables, procedures, or views
(on which a database might depend heavily), where are they, and then concluding, how hard
is it to implement this on the server from vendor y...
</p>
<p>
The summary information shown in the connections page is a fair attempt to deal with the
above questions in a quick and simple way. On this page there lists database objects which
access database objects in another database. We distinguish two sorts of database objects,
procedures and tables or views.
</p>

<table align="right" cellSpacing="3" style="border: 1px dashed #006600; solid rgb(51, 125, 51); color: rgb(0, 0, 0);">
<tr><td>

<table cellPadding="3" cellSpacing="0" border="1px">
<thead><tr><td align="left" valign="top">Foreign Database</td>
<td align="left" valign="top">Table/View</td>
<td align="left" valign="top">Procedure/Trigger/View</td>
<td align="left" valign="top">Access</td></tr></thead>
 <tr><td align="left" valign="top" bgcolor="#FFFFFF" rowspan="2"><h1>HERCULES</h1></td>
<td align="left" valign="top" rowspan="2">SHOPS</td>
<td align="left" valign="top"><SPAN CLASS="pnm">proc_ShopPerformance</SPAN></td><td align="left" valign="top">SELECT</td></tr>
<tr><td align="left" valign="top"><SPAN CLASS="pnm">SALES_TRIG_I</SPAN></td><td align="left" valign="top">SELECT</td></tr>
</table>

</td>
</tr>
<tr><td align="center"><span class="caption">Figure 5: Data Access to External Databases</span></td></tr>
</table>

<p>
Obviously, tables and views are accessed by SQL data access statements such as
<span class="kwd">SELECT</span>, <span class="kwd">UPDATE</span>, or
<span class="kwd">INSERT</span> (to name a few). In SQL these statements can lead to another
database. The first table on the connections page summarizes these cases and it may look like
the table shown in Figure 5. Here, there are (at least) two <span class="kwd">SELECT</span>
statements implemented in a procedure and a trigger, and both statements access a table called
&quot;SHOPS&quot; in the database called &quot;HERCULES&quot;.
</p>
<p>
If you look at a page generated by Nextlevel you can click on the <span class="kwd">SELECT</span>
keyword in the right column and be transported to the first occurrence of the statement in the listed proc
(Figure 5, however, has <b>no</b> hyperlinks). You can also click on the name of the proc
to jump to the beginning of the proc that references an external database object.
</p>

<table align="right" cellSpacing="3" style="border: 1px dashed #006600; solid rgb(51, 125, 51); color: rgb(0, 0, 0);">
<tr><td>

<table cellPadding="3" cellSpacing="0" border="1px">
<thead><tr><td align="left" valign="top">Foreign Database</td>
<td align="left" valign="top">Foreign Procedure</td>
<td align="left" valign="top">Calling Procedure/Trigger</td>
<td align="left" valign="top">Access</td></tr></thead>
 <tr><td align="left" valign="top" bgcolor="#FFFFFF" rowspan="1"><h1>MOON.TITAN</h1></td>
<td align="left" valign="top" rowspan="1">proc_PurchaseHistory</td>
<td align="left" valign="top"><SPAN CLASS="pnm">proc_PurchaseHistory</SPAN></td>
<td align="left" valign="top">EXEC</td></tr>
 <tr><td align="left" valign="top" bgcolor="#DDDDDD" rowspan="2"><h1>SUN.TITAN</h1></td>
<td align="left" valign="top" rowspan="2">proc_PurchaseHistory</td>
<td align="left" valign="top"><SPAN CLASS="pnm">proc_PurchaseHistory</SPAN></td>
<td align="left" valign="top">EXEC</td></tr>
<tr>
<td align="left" valign="top"><SPAN CLASS="pnm">proc_SalesHistory</SPAN></td>
<td align="left" valign="top">EXEC</td></tr>
</table>

</td>
</tr>
<tr><td align="center"><span class="caption">Figure 6: Procedural Access to External Databases</span></td></tr>
</table>

<p>
The first column of the table in Figure 5 will have more rows, if there are more
than one external databases being accessed. This can also be verified in Figure 6,
where we have a table equivalent to the 2nd table in the connections page. In this page
we summarize those procedures that execute another procedure in another database.
The layout is similar as above, except, this time the relation is about a procedures or
triggers executing another external procedure. Note also, that all external procedures
in Figure 6 are located in another database called &quot;TITAN&quot; on an imaginary
server called &quot;MOON&quot; or &quot;SUN&quot;.
</p>
<p>
The third and fourth table on the connections page show similar information as the first two
tables on the same page, except, these tables refer to database objects which should
be located inside of a given database. However, NextLevel did not encounter a definition
for these objects.
This state can be reached in one of two ways, first we can have a statement referring
to a table, view, or procedure that does not exist in a given database (because it was used
in the past but not anymore?). In this case, we speak of a <b>lost reference</b>,
because the database object we refer to simply does not exist. Secondly, it is also possible
that NextLevel found a reference to an object that is a database system or even vendor specific
object. In Sybase ASE there are, for example, server specific procedures such as &quot;sp_exchange&quot;
(to compute currency exchange values). Access to such <b>vendor specific database object</b> is also listed in
the 3rd and 4th table on the connections page.
</p>

<hr>
<p><a href="index.html">Back</a></p>
</body></html>
